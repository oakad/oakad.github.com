<html>
  <head>
    <title>0000-objurl-blob</title>
    <meta content="">
    <style>
      #image-target {
        border: 1px solid black;
        display: inline-block;
        clear: left;
      }
    </style>
  </head>
   <script type="text/javascript">
     //<![CDATA[
     function loadImage() {
       let xhr = new XMLHttpRequest();
       xhr.open('GET', '0000-img-00.jpg', true);
       xhr.responseType = 'blob';
       xhr.onload = function(e) {
         if (this.status == 200) {
           let blob = this.response;
           let img = document.createElement('img');
           img.onload = function(e) {
             window.URL.revokeObjectURL(img.src);
           };
           img.src = window.URL.createObjectURL(blob);
           document.getElementById("image-target").appendChild(img);
         }
       };
       xhr.send();
    }
    function clearImage() {
      Array.prototype.forEach.call(
        document.querySelectorAll('#image-target > img'),
        function(el) {
          el.parentElement.removeChild(el);
        }
      );
    }
    //]]>
  </script>
  <body>
    <button type="button" onclick="loadImage();">Load image</button>
    <button type="button" onclick="clearImage();">Clear image</button>
    <div><div id="image-target"></div></div>
  </body>
</html>
